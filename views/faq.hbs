{{> page-header}}
<section class="container">
    <p>There is a comprehensive process to becoming a foster parent. Many people have good hearts and want to help children
        in need – it is our duty to those children that we ensure they are cared for in a safe, stable and competent environment.
        Below are some of the most common questions asked by potential foster parents. Due to the high needs of the children with Annie's Havens, only couples with a special needs life experience are accepted.</p>
    <p>A major topic for most people is how will fostering affect their family. Click on <a href="/family-involvement">this link</a> to learn more on this subject.</p>

    <div class="divider"></div>

    <ul class="collapsible">
        <li class="active">
            <div class="collapsible-header" id="faq-header-1" role="button" tabindex="0" aria-expanded="true" aria-controls="faq-body-1">
                <p>What’s the difference between fostering with CAS and Annie’s Havens?</p>
                <i class="collapsible-secondary material-symbols-outlined" aria-hidden="true">arrow_drop_down</i>
            </div>
            <div class="collapsible-body" id="faq-body-1" role="region" aria-labelledby="faq-header-1">
                <p>Both the CAS and Annie’s Havens are licensed by the Ministry of Children and Youth Services on an annual
                    basis using the same criteria. CAS has other responsiblities such as providing direct services to families
                    in distress where there is no immediate protection concerns.</p>
                <p>Support for the children and the foster families by CAS is structured somewhat differently from Annie’s Havens
                    depending on which region the Society is located.</p>
            </div>
        </li>
        <li>
            <div class="collapsible-header" id="faq-header-2" role="button" tabindex="0" aria-expanded="false" aria-controls="faq-body-2">What if I’m single?
                <i class="collapsible-secondary material-symbols-outlined" aria-hidden="true">arrow_drop_down</i>
            </div>
            <div class="collapsible-body" id="faq-body-2" role="region" aria-labelledby="faq-header-2">
                <p>Single applicants are always welcome. As with all applicants - we assess the ability to meet the needs of the children in care which includes time commitments and support structures availabile to the potential foster home.</p>
            </div>
        </li>
        <li>
            <div class="collapsible-header" id="faq-header-3" role="button" tabindex="0" aria-expanded="false" aria-controls="faq-body-3">Is Annie's Havens LGBTQ2S friendly?
                <i class="collapsible-secondary material-symbols-outlined" aria-hidden="true">arrow_drop_down</i>
            </div>
            <div class="collapsible-body" id="faq-body-3" role="region" aria-labelledby="faq-header-3">
                <p>Absolutely. Annie's Havens is committed to providing a safe and inclusive environment for all LGBTQ2S individuals and we are proud of our caregivers who identify as such.</p>
            </div>
        </li>
        <li>
            <div class="collapsible-header" id="faq-header-4" role="button" tabindex="0" aria-expanded="false" aria-controls="faq-body-4">Do you try and match kids based on race and ethnicity?
                <i class="collapsible-secondary material-symbols-outlined" aria-hidden="true">arrow_drop_down</i>
            </div>
            <div class="collapsible-body" id="faq-body-4" role="region" aria-labelledby="faq-header-4">
                <p>We do. It can be difficult due to the lack of people willing to be foster parents. That being said, almost
                    all our kids are matched according to the racial/ethnic background.</p>
            </div>
        </li>
        <li>
            <div class="collapsible-header" id="faq-header-5" role="button" tabindex="0" aria-expanded="false" aria-controls="faq-body-5">How much are foster parents paid?
                <i class="collapsible-secondary material-symbols-outlined" aria-hidden="true">arrow_drop_down</i>
            </div>
            <div class="collapsible-body" id="faq-body-5" role="region" aria-labelledby="faq-header-5">
                <p>Foster parents are not “paid” in the tradition use of the word. There is a daily amount of money provided per child (aka “per diem”) to cover
                    expenses related to the kids. The per diem is not a replacement for steady income. Foster kids come and
                    go and the per diem is only paid when the kids are living at your home. Parents must be able to show
                    they will not need to depend on the per diem to maintain their finances. That being said, there is a
                    portion of the per diem related to “foster parent commitment” which varies depending on the agency you
                    are with as foster parents.</p>
                    <p>Annie’s Havens parents receive $80-$85 depending on relevant education, experience and extra supports required. For example,
                    2 kids in a 30 day month at $85 per diem would receive $5100 – this pays for clothing, food, daily hygiene
                    products, contribution to household costs, etc.</p>
            </div>
        </li>
        </li>
        <li>
            <div class="collapsible-header" id="faq-header-6" role="button" tabindex="0" aria-expanded="false" aria-controls="faq-body-6">How many kids can we foster?
                <i class="collapsible-secondary material-symbols-outlined" aria-hidden="true">arrow_drop_down</i>
            </div>
            <div class="collapsible-body" id="faq-body-6" role="region" aria-labelledby="faq-header-6">
                <p>The Ministry of Children, Community and Social Services limits the number of children in a home to 4. However, physical
                    space may further limit the number of children or other factors such as other legal children in the home.</p>
            </div>
        </li>
        </li>
        <li>
            <div class="collapsible-header" id="faq-header-7" role="button" tabindex="0" aria-expanded="false" aria-controls="faq-body-7">What if my foster child needs medical devices?
                <i class="collapsible-secondary material-symbols-outlined" aria-hidden="true">arrow_drop_down</i>
            </div>
            <div class="collapsible-body" id="faq-body-7" role="region" aria-labelledby="faq-header-7">
                <p>Any major cost such as dental work, prescription medication, medical devices are paid for by Children’s Aid
                    either directly or via reimbursement.</p>
            </div>
        </li>
        </li>
        <li>
            <div class="collapsible-header" id="faq-header-8" role="button" tabindex="0" aria-expanded="false" aria-controls="faq-body-8">We’ve been thinking about fostering for years. Can we start right away?
                <i class="collapsible-secondary material-symbols-outlined" aria-hidden="true">arrow_drop_down</i>
            </div>
            <div class="collapsible-body" id="faq-body-8" role="region" aria-labelledby="faq-header-8">
                <p>We can start the application process quickly. It takes time for background checks to be processed, completion
                    of a home study and orientation training. If paperwork is returned to Annie’s Havens quickly and your
                    schedule is flexible it can take as little as 2-months to open your home for placement consideration.
                    Parents who have lived in different areas and have time constraints around training will take longer
                    – no more than 3-months is our goal. NOTE: If you have not completed PRIDE training, it is required before you can foster even if you were exempted previously.</p>
            </div>
        </li>
    </ul>

    <div class="divider"></div>

    <div class="card">
        <div class="card-content">
            <strong>Have a question which hasn't been answered or you want more detail? Submit your question below.</strong>
            <p class="disclaimer-text">We only use your name and email to respond to your question. You will not be put on a mailing list, your information
                will not be giver to any 3rd parties and your data will not be used in any other ways than described.
            </p>
            <form id="faq-form" class="faq-form">
                <input type="hidden" id="csrf-token" name="_csrf" value="{{csrfToken}}">
                <div class="row">
                    <div class="input-field col s12 m6 l3">
                        <input id="first-name" name="firstName" type="text" class="validate">
                        <label for="first-name">First Name</label>
                    </div>
                    <div class="input-field col s12 m6 l3">
                        <input id="last-name" name="lastName" type="text">
                        <label for="last-name">Last Name</label>
                    </div>
                    <div class="input-field col s12 l6">
                        <input id="email" name="email" type="email" class="validate">
                        <label for="email">Email</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        <textarea id="question-area" name="question" class="materialize-textarea"></textarea>
                        <label for="question-area">Question</label>
                    </div>
                </div>
            </form>
        </div>
        <div class="card-action">
            <button id="faq-submit-button" disabled class="g-recaptcha btn waves-effect waves-light disabled" data-sitekey="6Ld8uFUpAAAAAAGsf6jYup0tnHbbsbbFki_9PPqX" data-callback="submitFaqForm" type="button">
                Submit Your Question <i class="material-symbols-outlined right" aria-hidden="true">send</i>
            </button>
            <span id="faq-submit-spinner" class="preloader-wrapper small active" style="display:none; vertical-align: middle; margin-left: 0.5rem;">
                <span class="spinner-layer spinner-white-only">
                    <span class="circle-clipper left">
                        <span class="circle"></span>
                    </span>
                    <span class="gap-patch">
                        <span class="circle"></span>
                    </span>
                    <span class="circle-clipper right">
                        <span class="circle"></span>
                    </span>
                </span>
            </span>
        </div>
    </div>
</section>

{{!-- Read More --}}
{{> read-more}}

{{#section 'script'}}
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Collapsibles
            const collapsibles = document.querySelectorAll(".collapsible");
            const setAriaState = (el, expanded) => {
                const header = el.querySelector('.collapsible-header');
                if (header) {
                    header.setAttribute('aria-expanded', String(expanded));
                }
            };
            const setInitialAria = (root) => {
                root.querySelectorAll('li').forEach((item) => {
                    const header = item.querySelector('.collapsible-header');
                    if (!header) return;
                    header.setAttribute('aria-expanded', String(item.classList.contains('active')));
                });
            };
            const attachKeyHandlers = (root) => {
                root.querySelectorAll('.collapsible-header').forEach((header) => {
                    header.addEventListener('keydown', (event) => {
                        if (event.key === 'Enter' || event.key === ' ') {
                            event.preventDefault();
                            header.click();
                        }
                    });
                });
            };
            if (collapsibles.length > 0 && window.M) {
                setInitialAria(document);
                attachKeyHandlers(document);
                window.M.Collapsible.init(collapsibles, {
                    onOpenStart: (el) => setAriaState(el, true),
                    onCloseStart: (el) => setAriaState(el, false)
                });
            }

            // FAQ Form
            const faqForm = document.getElementById('faq-form');
            const submitButton = document.getElementById('faq-submit-button');
            const submitSpinner = document.getElementById('faq-submit-spinner');
            if (!faqForm || !submitButton || !submitSpinner) {
                return;
            }
            let isSubmitting = false;
            let isValid = false;

            const firstNameInput = faqForm.querySelector('#first-name');
            const lastNameInput = faqForm.querySelector('#last-name');
            const emailInput = faqForm.querySelector('#email');
            const questionInput = faqForm.querySelector('#question-area');
            const csrfTokenInput = faqForm.querySelector('#csrf-token');
            const emailRegex = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;

            function setSubmitting(submitting) {
                isSubmitting = submitting;
                submitSpinner.style.display = submitting ? 'inline-block' : 'none';
                submitButton.disabled = submitting || !isValid;
                submitButton.classList.toggle('disabled', submitButton.disabled);
            }

            function validateForm() {
                isValid = Boolean(firstNameInput.value.trim()) &&
                    Boolean(lastNameInput.value.trim()) &&
                    emailRegex.test(String(emailInput.value).toLowerCase()) &&
                    Boolean(questionInput.value.trim());

                if (!isSubmitting) {
                    submitButton.disabled = !isValid;
                    submitButton.classList.toggle('disabled', submitButton.disabled);
                }
            }

            firstNameInput.addEventListener('blur', validateForm);
            firstNameInput.addEventListener('input', validateForm);
            lastNameInput.addEventListener('blur', validateForm);
            lastNameInput.addEventListener('input', validateForm);
            emailInput.addEventListener('blur', validateForm);
            emailInput.addEventListener('input', validateForm);
            questionInput.addEventListener('keyup', validateForm);
            questionInput.addEventListener('input', validateForm);

            function submitFaqForm(token) {
                setSubmitting(true);
                const firstName = faqForm.querySelector('#first-name').value;
                const lastName = faqForm.querySelector('#last-name').value;
                const email = faqForm.querySelector('#email').value;
                const question = faqForm.querySelector('#question-area').value;
                const csrfToken = csrfTokenInput.value;

                fetch('/faq', {
                    method: 'POST',
                    credentials: 'same-origin',
                    headers: {
                        'Accept': 'application/json, text/plain, */**',
                        'Content-Type': 'application/json',
                        'x-csrf-token': csrfToken
                    },
                    body: JSON.stringify({
                        firstName,
                        lastName,
                        email,
                        question,
                        _csrf: csrfToken,
                        token
                    })
                })
                .then((res) => res.json())
                .then((data) => {
                    if(data && (data.success === true || data.delivered === true)) {
                        faqForm.reset();
                        window.location.href = '/faq-submit-success';
                        return;
                    }
                    const message = (data && data.message) ? data.message : 'There was a problem submitting the form.';
                    window.M?.toast({html: message});
                })
                .catch(() => {
                    window.M?.toast({html: 'There was a problem submitting the form. Please try again.'});
                })
                .finally(() => {
                    setSubmitting(false);
                });
            }
            window.submitFaqForm = submitFaqForm;
            faqForm.addEventListener('submit', submitFaqForm);
            validateForm();
        });
    </script>
{{/section}}